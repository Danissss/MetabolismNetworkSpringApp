<html>
<head>
<title>Transporter Prediction</title>
<link href="webjars/bootstrap/4.1.0/css/bootstrap.min.css"
	rel="stylesheet">
<script src="webjars/jquery/3.3.1/jquery.min.js"></script>
<script src="webjars/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script src="marvin4js/gui/lib/promise-1.0.0.min.js"></script>
<script src="marvin4js/js/marvinjslauncher.js"></script>
<script src="js/TransporterQuery.js"></script>

<!-- customized script; later refactor to independent file -->
</head>

<header>
	<div th:replace="header :: header"></div>
</header>

<body>
	<!-- Introduction -->
	<div class="jumbotron jumbotron-fluid">
		<div class="container">
			<h1 class="display-5">Drug Exporter</h1>
			<p class="lead">
				This program contain 7 trained random forest model for most
				important exporters and importers.<br /> The 3D descriptors used
				are calculated from <a
					href="https://www.rdkit.org/docs/GettingStartedInPython.html#list-of-available-descriptors">RDKit</a>
				python package.
			</p>
			<hr class="my-1">
			<p>More Information about the model please see the publication <a
					href="#">[PubMed]</a> <a href="#">[ACS]</a>
			</p>
		</div>
	</div>

	<!-- Form -->
	<div class="container">
		
		<div class="row">
		<div class="col">
		
		<form class="form-horizontal" id="submit-request">
		<div class="container">
			<p>
				Select Transporter 
				<select id="transporter-select">
					<option id="check-MDR1" value="MDR1">MDR1</option>
					<option id="check-BCRP" value="BCRP">BCRP</option>
					<option id="check-MRP1" value="MRP1">MRP1</option>
					<option id="check-MRP2" value="MRP2">MRP2</option>
					<!-- <option value="MRP3">MRP3</option>
					<option value="MRP4">MRP4</option> -->
				</select>
			</p>
			<p id="protein-info"></p>
			<!-- insert the protein information here -->
		</div>


		<!-- Define the role  -->
		<div class="container">
			<p>
				Role 
				<input type="radio" name="options" id="option-inhibitor" value="inhibitor" checked>
				inhibition 
				<input type="radio" name="options" id="option-substrate" value="substrate">
				substrate 

			</p>
		</div>



		
		<div class="container">
		<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
			<li class="nav-item"><a class="nav-link active"
				id="pills-home-tab" data-toggle="pill" href="#pills-chemdraw" role="tab"
				aria-controls="pills-chemdraw" aria-selected="true">ChemDraw</a></li>
			<li class="nav-item"><a class="nav-link" id="pills-profile-tab"
				data-toggle="pill" href="#pills-smiles" role="tab"
				aria-controls="pills-smiles" aria-selected="false">SMILES</a></li>
			<li class="nav-item"><a class="nav-link" id="pills-contact-tab"
				data-toggle="pill" href="#pills-sdf" role="tab"
				aria-controls="pills-sdf" aria-selected="false">Upload File</a></li>
		</ul>
		<div class="tab-content" id="pills-tabContent">
			
			<div class="tab-pane fade show active" id="pills-chemdraw"
				role="tabpanel" aria-labelledby="pills-home-tab">
				<p>Please make sure there is no input in SMILES and upload file section.</p>
				<div>
					<iframe src="marvin4js/editor.html" id="sketch" width="450px" 
                    		height="300px" style="border:1px solid #b3b3b3;" ></iframe>
                    		
                </div>
                <text name="sdf_content" style="display:none;"></text>
				
				
			</div>
			
			<div class="tab-pane fade" id="pills-smiles" role="tabpanel"
				aria-labelledby="pills-profile-tab">
				
				<p>SMILES = <input type="text" id="smiles-string" style="width: 350px;"/></p>
			</div>
			
			<div class="tab-pane fade" id="pills-sdf" role="tabpanel"
				aria-labelledby="pills-contact-tab">
				<p> Please make sure there is no input in SMILES section</p>
				<input id="fileupload" name="file" type="file" />
			</div>
		</div>
		</div>


		<!-- https://medium.com/@grokwich/spring-boot-thymeleaf-html-form-handling-762ef0d51327 -->
		
		<div class="container">
			<button class="btn btn-primary btn-sml" type="submit" id="bth-search">
				Submit
			</button>
		</div>
		
		</form>
		</div>
		
		
		
		<div class="col">
		
			<div class="result"></div>
			<div class="debug-info"></div>
			
		</div>
		
		
		</div>
		
		
	</div>
	
</body>




<footer>

	<script type="text/javascript">
		var marvinSketcherInstance;
		MarvinJSUtil.getEditor("#sketch").then(function(sketcherInstance) {
			marvinSketcherInstance = sketcherInstance;
			marvinSketcherInstance.importStructure("mol", s).catch(function(error) {
				alert(error);
			});
			}, function(error) {
				alert("Loading of the sketcher failed"+error);
	    }); 
		
		var s = "\n\n\n"+
		" 14 15  0  0  0  0  0  0  0  0999 V2000\n"+
		"    0.5089    7.8316    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    1.2234    6.5941    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    1.2234    7.4191    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"   -0.2055    6.5941    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"   -0.9200    7.8316    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    0.5089    5.3566    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"   -0.2055    7.4191    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    0.5089    6.1816    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"   -0.9200    6.1816    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    0.5089    8.6566    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    2.4929    7.0066    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    2.0080    7.6740    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    2.0080    6.3391    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"    2.2630    8.4586    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n"+
		"  1  7  1  0  0  0  0\n"+
		"  8  2  1  0  0  0  0\n"+
		"  1  3  1  0  0  0  0\n"+
		"  2  3  2  0  0  0  0\n"+
		"  7  4  1  0  0  0  0\n"+
		"  4  8  1  0  0  0  0\n"+
		"  4  9  2  0  0  0  0\n"+
		"  7  5  1  0  0  0  0\n"+
		"  8  6  1  0  0  0  0\n"+
		"  1 10  2  0  0  0  0\n"+
		"  3 12  1  0  0  0  0\n"+
		"  2 13  1  0  0  0  0\n"+
		" 13 11  2  0  0  0  0\n"+
		" 12 11  1  0  0  0  0\n"+
		" 12 14  1  0  0  0  0\n"+
		"M  END\n";
	</script>
	
	

	<div th:replace="footer :: footer"></div>
	

</footer>
</html>